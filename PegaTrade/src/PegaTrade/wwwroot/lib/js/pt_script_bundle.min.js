function ListJSCustomNumericSort(n,t){var i=parseFloat(n._values.profit.replace(/[^0-9.-]/g,"")),r=parseFloat(t._values.profit.replace(/[^0-9.-]/g,""));return i>r?1:i<r?-1:0}var List,pega,app;!function(){"use strict";function t(){var t={parent:document.body,version:"1.0.11",defaultOkLabel:"Ok",okLabel:"Ok",defaultCancelLabel:"Cancel",cancelLabel:"Cancel",defaultMaxLogItems:2,maxLogItems:2,promptValue:"",promptPlaceholder:"",closeLogOnClick:!1,closeLogOnClickDefault:!1,delay:5e3,defaultDelay:5e3,logContainerClass:"alertify-logs",logContainerDefaultClass:"alertify-logs",dialogs:{buttons:{holder:"<nav>{{buttons}}<\/nav>",ok:"<button class='ok' tabindex='1'>{{ok}}<\/button>",cancel:"<button class='cancel' tabindex='2'>{{cancel}}<\/button>"},input:"<input type='text'>",message:"<p class='msg'>{{message}}<\/p>",log:"<div class='{{class}}'>{{message}}<\/div>"},defaultDialogs:{buttons:{holder:"<nav>{{buttons}}<\/nav>",ok:"<button class='ok' tabindex='1'>{{ok}}<\/button>",cancel:"<button class='cancel' tabindex='2'>{{cancel}}<\/button>"},input:"<input type='text'>",message:"<p class='msg'>{{message}}<\/p>",log:"<div class='{{class}}'>{{message}}<\/div>"},build:function(n){var i=this.dialogs.buttons.ok,t="<div class='dialog'><div>"+this.dialogs.message.replace("{{message}}",n.message);return"confirm"!==n.type&&"prompt"!==n.type||(i=this.dialogs.buttons.cancel+this.dialogs.buttons.ok),"prompt"===n.type&&(t+=this.dialogs.input),t=(t+this.dialogs.buttons.holder+"<\/div><\/div>").replace("{{buttons}}",i).replace("{{ok}}",this.okLabel).replace("{{cancel}}",this.cancelLabel)},setCloseLogOnClick:function(n){this.closeLogOnClick=!!n},close:function(t,i){this.closeLogOnClick&&t.addEventListener("click",function(){n(t)});i=i&&!isNaN(+i)?+i:this.delay;0>i?n(t):i>0&&setTimeout(function(){n(t)},i)},dialog:function(n,t,i,r){return this.setup({type:t,message:n,onOkay:i,onCancel:r})},log:function(n,t,i){var u=document.querySelectorAll(".alertify-logs > div"),f,r,e;if(u&&(f=u.length-this.maxLogItems,f>=0))for(r=0,e=f+1;e>r;r++)this.close(u[r],-1);this.notify(n,t,i)},setLogPosition:function(n){this.logContainerClass="alertify-logs "+n},setupLogContainer:function(){var n=document.querySelector(".alertify-logs"),t=this.logContainerClass;return n||(n=document.createElement("div"),n.className=t,this.parent.appendChild(n)),n.className!==t&&(n.className=t),n},notify:function(n,i,r){var f=this.setupLogContainer(),u=document.createElement("div");u.className=i||"default";u.innerHTML=t.logTemplateMethod?t.logTemplateMethod(n):n;"function"==typeof r&&u.addEventListener("click",r);f.appendChild(u);setTimeout(function(){u.className+=" show"},10);this.close(u,this.delay)},setup:function(t){function f(f){"function"!=typeof f&&(f=function(){});u&&u.addEventListener("click",function(u){t.onOkay&&"function"==typeof t.onOkay&&(i?t.onOkay(i.value,u):t.onOkay(u));f(i?{buttonClicked:"ok",inputValue:i.value,event:u}:{buttonClicked:"ok",event:u});n(r)});e&&e.addEventListener("click",function(i){t.onCancel&&"function"==typeof t.onCancel&&t.onCancel(i);f({buttonClicked:"cancel",event:i});n(r)});i&&i.addEventListener("keyup",function(n){13===n.which&&u.click()})}var r=document.createElement("div"),s;r.className="alertify hide";r.innerHTML=this.build(t);var u=r.querySelector(".ok"),e=r.querySelector(".cancel"),i=r.querySelector("input"),o=r.querySelector("label");return i&&("string"==typeof this.promptPlaceholder&&(o?o.textContent=this.promptPlaceholder:i.placeholder=this.promptPlaceholder),"string"==typeof this.promptValue&&(i.value=this.promptValue)),"function"==typeof Promise?s=new Promise(f):f(),this.parent.appendChild(r),setTimeout(function(){r.classList.remove("hide");i&&t.type&&"prompt"===t.type?(i.select(),i.focus()):u&&u.focus()},100),s},okBtn:function(n){return this.okLabel=n,this},setDelay:function(n){return n=n||0,this.delay=isNaN(n)?this.defaultDelay:parseInt(n,10),this},cancelBtn:function(n){return this.cancelLabel=n,this},setMaxLogItems:function(n){this.maxLogItems=parseInt(n||this.defaultMaxLogItems)},theme:function(n){switch(n.toLowerCase()){case"bootstrap":this.dialogs.buttons.ok="<button class='ok btn btn-primary' tabindex='1'>{{ok}}<\/button>";this.dialogs.buttons.cancel="<button class='cancel btn btn-default' tabindex='2'>{{cancel}}<\/button>";this.dialogs.input="<input type='text' class='form-control'>";break;case"purecss":this.dialogs.buttons.ok="<button class='ok pure-button' tabindex='1'>{{ok}}<\/button>";this.dialogs.buttons.cancel="<button class='cancel pure-button' tabindex='2'>{{cancel}}<\/button>";break;case"mdl":case"material-design-light":this.dialogs.buttons.ok="<button class='ok mdl-button mdl-js-button mdl-js-ripple-effect'  tabindex='1'>{{ok}}<\/button>";this.dialogs.buttons.cancel="<button class='cancel mdl-button mdl-js-button mdl-js-ripple-effect' tabindex='2'>{{cancel}}<\/button>";this.dialogs.input="<div class='mdl-textfield mdl-js-textfield'><input class='mdl-textfield__input'><label class='md-textfield__label'><\/label><\/div>";break;case"angular-material":this.dialogs.buttons.ok="<button class='ok md-primary md-button' tabindex='1'>{{ok}}<\/button>";this.dialogs.buttons.cancel="<button class='cancel md-button' tabindex='2'>{{cancel}}<\/button>";this.dialogs.input="<div layout='column'><md-input-container md-no-float><input type='text'><\/md-input-container><\/div>";break;case"default":default:this.dialogs.buttons.ok=this.defaultDialogs.buttons.ok;this.dialogs.buttons.cancel=this.defaultDialogs.buttons.cancel;this.dialogs.input=this.defaultDialogs.input}},reset:function(){this.parent=document.body;this.theme("default");this.okBtn(this.defaultOkLabel);this.cancelBtn(this.defaultCancelLabel);this.setMaxLogItems();this.promptValue="";this.promptPlaceholder="";this.delay=this.defaultDelay;this.setCloseLogOnClick(this.closeLogOnClickDefault);this.setLogPosition("bottom left");this.logTemplateMethod=null},injectCSS:function(){if(!document.querySelector("#alertifyCSS")){var t=document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css";n.id="alertifyCSS";n.innerHTML=".alertify-logs>*{padding:12px 24px;color:#fff;box-shadow:0 2px 5px 0 rgba(0,0,0,.2);border-radius:1px}.alertify-logs>*,.alertify-logs>.default{background:rgba(0,0,0,.8)}.alertify-logs>.error{background:rgba(244,67,54,.8)}.alertify-logs>.success{background:rgba(76,175,80,.9)}.alertify{position:fixed;background-color:rgba(0,0,0,.3);left:0;right:0;top:0;bottom:0;width:100%;height:100%;z-index:1}.alertify.hide{opacity:0;pointer-events:none}.alertify,.alertify.show{box-sizing:border-box;transition:all .33s cubic-bezier(.25,.8,.25,1)}.alertify,.alertify *{box-sizing:border-box}.alertify .dialog{padding:12px}.alertify .alert,.alertify .dialog{width:100%;margin:0 auto;position:relative;top:50%;transform:translateY(-50%)}.alertify .alert>*,.alertify .dialog>*{width:400px;max-width:95%;margin:0 auto;text-align:center;padding:12px;background:#fff;box-shadow:0 2px 4px -1px rgba(0,0,0,.14),0 4px 5px 0 rgba(0,0,0,.098),0 1px 10px 0 rgba(0,0,0,.084)}.alertify .alert .msg,.alertify .dialog .msg{padding:12px;margin-bottom:12px;margin:0;text-align:left}.alertify .alert input:not(.form-control),.alertify .dialog input:not(.form-control){margin-bottom:15px;width:100%;font-size:100%;padding:12px}.alertify .alert input:not(.form-control):focus,.alertify .dialog input:not(.form-control):focus{outline-offset:-2px}.alertify .alert nav,.alertify .dialog nav{text-align:right}.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button),.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button){background:transparent;box-sizing:border-box;color:rgba(0,0,0,.87);position:relative;outline:0;border:0;display:inline-block;-ms-flex-align:center;-ms-grid-row-align:center;align-items:center;padding:0 6px;margin:6px 8px;line-height:36px;min-height:36px;white-space:nowrap;min-width:88px;text-align:center;text-transform:uppercase;font-size:14px;text-decoration:none;cursor:pointer;border:1px solid transparent;border-radius:2px}.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):active,.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):hover,.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):active,.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):hover{background-color:rgba(0,0,0,.05)}.alertify .alert nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):focus,.alertify .dialog nav button:not(.btn):not(.pure-button):not(.md-button):not(.mdl-button):focus{border:1px solid rgba(0,0,0,.1)}.alertify .alert nav button.btn,.alertify .dialog nav button.btn{margin:6px 4px}.alertify-logs{position:fixed;z-index:1}.alertify-logs.bottom,.alertify-logs:not(.top){bottom:16px}.alertify-logs.left,.alertify-logs:not(.right){left:16px}.alertify-logs.left>*,.alertify-logs:not(.right)>*{float:left;transform:translateZ(0);height:auto}.alertify-logs.left>.show,.alertify-logs:not(.right)>.show{left:0}.alertify-logs.left>*,.alertify-logs.left>.hide,.alertify-logs:not(.right)>*,.alertify-logs:not(.right)>.hide{left:-110%}.alertify-logs.right{right:16px}.alertify-logs.right>*{float:right;transform:translateZ(0)}.alertify-logs.right>.show{right:0;opacity:1}.alertify-logs.right>*,.alertify-logs.right>.hide{right:-110%;opacity:0}.alertify-logs.top{top:0}.alertify-logs>*{box-sizing:border-box;transition:all .4s cubic-bezier(.25,.8,.25,1);position:relative;clear:both;backface-visibility:hidden;perspective:1000;max-height:0;margin:0;padding:0;overflow:hidden;opacity:0;pointer-events:none}.alertify-logs>.show{margin-top:12px;opacity:1;max-height:1000px;padding:12px;pointer-events:auto}";t.insertBefore(n,t.firstChild)}},removeCSS:function(){var n=document.querySelector("#alertifyCSS");n&&n.parentNode&&n.parentNode.removeChild(n)}};return t.injectCSS(),{_$$alertify:t,parent:function(n){t.parent=n},reset:function(){return t.reset(),this},alert:function(n,i,r){return t.dialog(n,"alert",i,r)||this},confirm:function(n,i,r){return t.dialog(n,"confirm",i,r)||this},prompt:function(n,i,r){return t.dialog(n,"prompt",i,r)||this},log:function(n,i){return t.log(n,"default",i),this},theme:function(n){return t.theme(n),this},success:function(n,i){return t.log(n,"success",i),this},error:function(n,i){return t.log(n,"error",i),this},cancelBtn:function(n){return t.cancelBtn(n),this},okBtn:function(n){return t.okBtn(n),this},delay:function(n){return t.setDelay(n),this},placeholder:function(n){return t.promptPlaceholder=n,this},defaultValue:function(n){return t.promptValue=n,this},maxLogItems:function(n){return t.setMaxLogItems(n),this},closeLogOnClick:function(n){return t.setCloseLogOnClick(!!n),this},logPosition:function(n){return t.setLogPosition(n||""),this},setLogTemplate:function(n){return t.logTemplateMethod=n,this},clearLogs:function(){return t.setupLogContainer().innerHTML="",this},version:t.version}}var u=500,n=function(n){if(n){var t=function(){n&&n.parentNode&&n.parentNode.removeChild(n)};n.classList.remove("show");n.classList.add("hide");n.addEventListener("transitionend",t);setTimeout(t,u)}},i,r;if("undefined"!=typeof module&&module&&module.exports){module.exports=function(){return new t};i=new t;for(r in i)module.exports[r]=i[r]}else"function"==typeof define&&define.amd?define(function(){return new t}):window.alertify=new t}();
/*! List.js v1.5.0 (http://listjs.com) by Jonny Str√∂mberg (http://javve.com) */
List=function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.i=function(n){return n},t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var i=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=11)}([function(n,t,i){function r(n){if(!n||!n.nodeType)throw new Error("A DOM element reference is required");this.el=n;this.list=n.classList}var u=i(4),f=/\s+/,e=Object.prototype.toString;n.exports=function(n){return new r(n)};r.prototype.add=function(n){if(this.list)return this.list.add(n),this;var t=this.array(),i=u(t,n);return~i||t.push(n),this.el.className=t.join(" "),this};r.prototype.remove=function(n){if(this.list)return this.list.remove(n),this;var t=this.array(),i=u(t,n);return~i&&t.splice(i,1),this.el.className=t.join(" "),this};r.prototype.toggle=function(n,t){return this.list?("undefined"!=typeof t?t!==this.list.toggle(n,t)&&this.list.toggle(n):this.list.toggle(n),this):("undefined"!=typeof t?t?this.add(n):this.remove(n):this.has(n)?this.remove(n):this.add(n),this)};r.prototype.array=function(){var t=this.el.getAttribute("class")||"",i=t.replace(/^\s+|\s+$/g,""),n=i.split(f);return""===n[0]&&n.shift(),n};r.prototype.has=r.prototype.contains=function(n){return this.list?this.list.contains(n):!!~u(this.array(),n)}},function(n,t,i){var r=window.addEventListener?"addEventListener":"attachEvent",e=window.removeEventListener?"removeEventListener":"detachEvent",u=r!=="addEventListener"?"on":"",f=i(5);t.bind=function(n,t,i,e){n=f(n);for(var o=0;o<n.length;o++)n[o][r](u+t,i,e||!1)};t.unbind=function(n,t,i,r){n=f(n);for(var o=0;o<n.length;o++)n[o][e](u+t,i,r||!1)}},function(n){n.exports=function(n){return function(t,i,r){var u=this,f;this._values={};this.found=!1;this.filtered=!1;f=function(t,i,r){if(i===undefined)r?u.values(t,r):u.values(t);else{u.elm=i;var f=n.templater.get(u,t);u.values(f)}};this.values=function(t,i){if(t!==undefined){for(var r in t)u._values[r]=t[r];i!==!0&&n.templater.set(u,u.values())}else return u._values};this.show=function(){n.templater.show(u)};this.hide=function(){n.templater.hide(u)};this.matching=function(){return n.filtered&&n.searched&&u.found&&u.filtered||n.filtered&&!n.searched&&u.filtered||!n.filtered&&n.searched&&u.found||!n.filtered&&!n.searched};this.visible=function(){return u.elm&&u.elm.parentNode==n.list?!0:!1};f(t,i,r)}}},function(n){var t=function(n,t,i){return i?n.getElementsByClassName(t)[0]:n.getElementsByClassName(t)},i=function(n,t,i){return t="."+t,i?n.querySelector(t):n.querySelectorAll(t)},r=function(n,t,i){for(var f=[],u=n.getElementsByTagName("*"),o=u.length,s=new RegExp("(^|\\s)"+t+"(\\s|$)"),r=0,e=0;r<o;r++)if(s.test(u[r].className)){if(i)return u[r];f[e]=u[r];e++}return f};n.exports=function(){return function(n,u,f,e){return e=e||{},e.test&&e.getElementsByClassName||!e.test&&document.getElementsByClassName?t(n,u,f):e.test&&e.querySelector||!e.test&&document.querySelector?i(n,u,f):r(n,u,f)}}()},function(n){var t=[].indexOf;n.exports=function(n,i){if(t)return n.indexOf(i);for(var r=0;r<n.length;++r)if(n[r]===i)return r;return-1}},function(n){function t(n){return Object.prototype.toString.call(n)==="[object Array]"}n.exports=function(n){var r,i;if(typeof n=="undefined")return[];if(n===null)return[null];if(n===window)return[window];if(typeof n=="string")return[n];if(t(n))return n;if(typeof n.length!="number")return[n];if(typeof n=="function"&&n instanceof Function)return[n];for(r=[],i=0;i<n.length;i++)(Object.prototype.hasOwnProperty.call(n,i)||i in n)&&r.push(n[i]);return r.length?r:[]}},function(n){n.exports=function(n){return n=n===undefined?"":n,n=n===null?"":n,n.toString()}},function(n){n.exports=function(n){for(var i,u=Array.prototype.slice.call(arguments,1),r=0,t;t=u[r];r++)if(t)for(i in t)n[i]=t[i];return n}},function(n){n.exports=function(n){var t=function(i,r,u){var f=i.splice(0,50);u=u||[];u=u.concat(n.add(f));i.length>0?setTimeout(function(){t(i,r,u)},1):(n.update(),r(u))};return t}},function(n){n.exports=function(n){return n.handlers.filterStart=n.handlers.filterStart||[],n.handlers.filterComplete=n.handlers.filterComplete||[],function(t){var r,i,f,u;if(n.trigger("filterStart"),n.i=1,n.reset.filter(),t===undefined)n.filtered=!1;else for(n.filtered=!0,r=n.items,i=0,f=r.length;i<f;i++)u=r[i],u.filtered=t(u)?!0:!1;return n.update(),n.trigger("filterComplete"),n.visibleItems}}},function(n,t,i){var s=i(0),r=i(1),u=i(7),f=i(6),e=i(3),o=i(19);n.exports=function(n,t){t=t||{};t=u({location:0,distance:100,threshold:.4,multiSearch:!0,searchClass:"fuzzy-search"},t);var i={search:function(r,u){for(var e=t.multiSearch?r.replace(/ +$/,"").split(/ +/):[r],f=0,o=n.items.length;f<o;f++)i.item(n.items[f],u,e)},item:function(n,t,r){for(var e,u,s,o=!0,f=0;f<r.length;f++){for(e=!1,u=0,s=t.length;u<s;u++)i.values(n.values(),t[u],r[f])&&(e=!0);e||(o=!1)}n.found=o},values:function(n,i,r){if(n.hasOwnProperty(i)){var u=f(n[i]).toLowerCase();if(o(u,r,t))return!0}return!1}};return r.bind(e(n.listContainer,t.searchClass),"keyup",function(t){var r=t.target||t.srcElement;n.search(r.value,i.search)}),function(t,r){n.search(t,r,i.search)}}},function(n,t,i){var f=i(18),r=i(3),e=i(7),u=i(4),o=i(1),s=i(6),h=i(0),c=i(17),l=i(5);n.exports=function(n,t,a){var v=this,y,p=i(2)(v),w=i(8)(v),b=i(12)(v);y={start:function(){(v.listClass="list",v.searchClass="search",v.sortClass="sort",v.page=1e4,v.i=1,v.items=[],v.visibleItems=[],v.matchingItems=[],v.searched=!1,v.filtered=!1,v.searchColumns=undefined,v.handlers={updated:[]},v.valueNames=[],v.utils={getByClass:r,extend:e,indexOf:u,events:o,toString:s,naturalSort:f,classes:h,getAttribute:c,toArray:l},v.utils.extend(v,t),v.listContainer=typeof n=="string"?document.getElementById(n):n,v.listContainer)&&(v.list=r(v.listContainer,v.listClass,!0),v.parse=i(13)(v),v.templater=i(16)(v),v.search=i(14)(v),v.filter=i(9)(v),v.sort=i(15)(v),v.fuzzySearch=i(10)(v,t.fuzzySearch),this.handlers(),this.items(),this.pagination(),v.update())},handlers:function(){for(var n in v.handlers)if(v[n])v.on(n,v[n])},items:function(){v.parse(v.list);a!==undefined&&v.add(a)},pagination:function(){if(t.pagination!==undefined){t.pagination===!0&&(t.pagination=[{}]);t.pagination[0]===undefined&&(t.pagination=[t.pagination]);for(var n=0,i=t.pagination.length;n<i;n++)b(t.pagination[n])}}};this.reIndex=function(){v.items=[];v.visibleItems=[];v.matchingItems=[];v.searched=!1;v.filtered=!1;v.parse(v.list)};this.toJSON=function(){for(var t=[],n=0,i=v.items.length;n<i;n++)t.push(v.items[n].values());return t};this.add=function(n,t){var u,f,i,e,r;if(n.length!==0){if(t){w(n,t);return}for(u=[],f=!1,n[0]===undefined&&(n=[n]),i=0,e=n.length;i<e;i++)r=null,f=v.items.length>v.page?!0:!1,r=new p(n[i],undefined,f),v.items.push(r),u.push(r);return v.update(),u}};this.show=function(n,t){return this.i=n,this.page=t,v.update(),v};this.remove=function(n,t,i){for(var u=0,r=0,f=v.items.length;r<f;r++)v.items[r].values()[n]==t&&(v.templater.remove(v.items[r],i),v.items.splice(r,1),f--,r--,u++);return v.update(),u};this.get=function(n,t){for(var r,u=[],i=0,f=v.items.length;i<f;i++)r=v.items[i],r.values()[n]==t&&u.push(r);return u};this.size=function(){return v.items.length};this.clear=function(){return v.templater.clear(),v.items=[],v};this.on=function(n,t){return v.handlers[n].push(t),v};this.off=function(n,t){var i=v.handlers[n],r=u(i,t);return r>-1&&i.splice(r,1),v};this.trigger=function(n){for(var t=v.handlers[n].length;t--;)v.handlers[n][t](v);return v};this.reset={filter:function(){for(var n=v.items,t=n.length;t--;)n[t].filtered=!1;return v},search:function(){for(var n=v.items,t=n.length;t--;)n[t].found=!1;return v}};this.update=function(){var t=v.items,i=t.length,n;for(v.visibleItems=[],v.matchingItems=[],v.templater.clear(),n=0;n<i;n++)t[n].matching()&&v.matchingItems.length+1>=v.i&&v.visibleItems.length<v.page?(t[n].show(),v.visibleItems.push(t[n]),v.matchingItems.push(t[n])):t[n].matching()?(v.matchingItems.push(t[n]),t[n].hide()):t[n].hide();return v.trigger("updated"),v};y.start()}},function(n,t,i){var r=i(0),u=i(1),f=i(11);n.exports=function(n){var t=function(t,u){var o,p=n.matchingItems.length,w=n.i,h=n.page,a=Math.ceil(p/h),c=Math.ceil(w/h),v=u.innerWindow||2,y=u.left||u.outerWindow||0,s=u.right||u.outerWindow||0,f,l;for(s=a-s,t.clear(),f=1;f<=a;f++)l=c===f?"active":"",i.number(f,y,s,c,v)?(o=t.add({page:f,dotted:!1})[0],l&&r(o.elm).add(l),e(o.elm,f,h)):i.dotted(t,f,y,s,c,v,t.size())&&(o=t.add({page:"...",dotted:!0})[0],r(o.elm).add("disabled"))},i={number:function(n,t,i,r,u){return this.left(n,t)||this.right(n,i)||this.innerWindow(n,r,u)},left:function(n,t){return n<=t},right:function(n,t){return n>t},innerWindow:function(n,t,i){return n>=t-i&&n<=t+i},dotted:function(n,t,i,r,u,f,e){return this.dottedLeft(n,t,i,r,u,f)||this.dottedRight(n,t,i,r,u,f,e)},dottedLeft:function(n,t,i,r,u,f){return t==i+1&&!this.innerWindow(t,u,f)&&!this.right(t,r)},dottedRight:function(n,t,i,r,u,f,e){return n.items[e-1].values().dotted?!1:t==r&&!this.innerWindow(t,u,f)&&!this.right(t,r)}},e=function(t,i,r){u.bind(t,"click",function(){n.show((i-1)*r+1,r)})};return function(i){var r=new f(n.listContainer.id,{listClass:i.paginationClass||"pagination",item:"<li><a class='page' href='javascript:function Z(){Z=\"\"}Z()'><\/a><\/li>",valueNames:["page","dotted"],searchClass:"pagination-search-that-is-not-supposed-to-exist",sortClass:"pagination-sort-that-is-not-supposed-to-exist"});n.on("updated",function(){t(r,i)});t(r,i)}}},function(n,t,i){n.exports=function(n){var u=i(2)(n),f=function(n){for(var i=n.childNodes,r=[],t=0,u=i.length;t<u;t++)i[t].data===undefined&&r.push(i[t]);return r},t=function(t,i){for(var r=0,f=t.length;r<f;r++)n.items.push(new u(i,t[r]))},r=function(i,u){var f=i.splice(0,50);t(f,u);i.length>0?setTimeout(function(){r(i,u)},1):(n.update(),n.trigger("parseComplete"))};return n.handlers.parseComplete=n.handlers.parseComplete||[],function(){var i=f(n.list),u=n.valueNames;n.indexAsync?r(i,u):t(i,u)}}},function(n){n.exports=function(n){var o,t,i,r,u={resetList:function(){n.i=1;n.templater.clear();r=undefined},setOptions:function(n){n.length==2&&n[1]instanceof Array?t=n[1]:n.length==2&&typeof n[1]=="function"?(t=undefined,r=n[1]):n.length==3?(t=n[1],r=n[2]):t=undefined},setColumns:function(){n.items.length!==0&&t===undefined&&(t=n.searchColumns===undefined?u.toArray(n.items[0].values()):n.searchColumns)},setSearchString:function(t){t=n.utils.toString(t).toLowerCase();t=t.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");i=t},toArray:function(n){var t=[];for(var i in n)t.push(i);return t}},f={list:function(){for(var t=0,i=n.items.length;t<i;t++)f.item(n.items[t])},item:function(n){n.found=!1;for(var i=0,r=t.length;i<r;i++)if(f.values(n.values(),t[i])){n.found=!0;return}},values:function(t,r){return t.hasOwnProperty(r)&&(o=n.utils.toString(t[r]).toLowerCase(),i!==""&&o.search(i)>-1)?!0:!1},reset:function(){n.reset.search();n.searched=!1}},e=function(e){return n.trigger("searchStart"),u.resetList(),u.setSearchString(e),u.setOptions(arguments),u.setColumns(),i===""?f.reset():(n.searched=!0,r?r(i,t):f.list()),n.update(),n.trigger("searchComplete"),n.visibleItems};return n.handlers.searchStart=n.handlers.searchStart||[],n.handlers.searchComplete=n.handlers.searchComplete||[],n.utils.events.bind(n.utils.getByClass(n.listContainer,n.searchClass),"keyup",function(t){var i=t.target||t.srcElement,r=i.value===""&&!n.searched;r||e(i.value)}),n.utils.events.bind(n.utils.getByClass(n.listContainer,n.searchClass),"input",function(n){var t=n.target||n.srcElement;t.value===""&&e("")}),e}},function(n){n.exports=function(n){var t={els:undefined,clear:function(){for(var i=0,r=t.els.length;i<r;i++)n.utils.classes(t.els[i]).remove("asc"),n.utils.classes(t.els[i]).remove("desc")},getOrder:function(t){var i=n.utils.getAttribute(t,"data-order");return i=="asc"||i=="desc"?i:n.utils.classes(t).has("desc")?"asc":n.utils.classes(t).has("asc")?"desc":"asc"},getInSensitive:function(t,i){var r=n.utils.getAttribute(t,"data-insensitive");i.insensitive=r==="false"?!1:!0},setOrder:function(i){for(var r,f,u=0,e=t.els.length;u<e;u++)(r=t.els[u],n.utils.getAttribute(r,"data-sort")===i.valueName)&&(f=n.utils.getAttribute(r,"data-order"),f=="asc"||f=="desc"?f==i.order&&n.utils.classes(r).add(i.order):n.utils.classes(r).add(i.order))}},i=function(){var i,r,u,f,e;n.trigger("sortStart");i={};r=arguments[0].currentTarget||arguments[0].srcElement||undefined;r?(i.valueName=n.utils.getAttribute(r,"data-sort"),t.getInSensitive(r,i),i.order=t.getOrder(r)):(i=arguments[1]||i,i.valueName=arguments[0],i.order=i.order||"asc",i.insensitive=typeof i.insensitive=="undefined"?!0:i.insensitive);t.clear();t.setOrder(i);u=i.sortFunction||n.sortFunction||null;f=i.order==="desc"?-1:1;e=u?function(n,t){return u(n,t,i)*f}:function(t,r){var u=n.utils.naturalSort;return u.alphabet=n.alphabet||i.alphabet||undefined,!u.alphabet&&i.insensitive&&(u=n.utils.naturalSort.caseInsensitive),u(t.values()[i.valueName],r.values()[i.valueName])*f};n.items.sort(e);n.update();n.trigger("sortComplete")};n.handlers.sortStart=n.handlers.sortStart||[];n.handlers.sortComplete=n.handlers.sortComplete||[];t.els=n.utils.getByClass(n.listContainer,n.sortClass);n.utils.events.bind(t.els,"click",i);n.on("searchStart",t.clear);n.on("filterStart",t.clear);return i}},function(n){var t=function(n){var t,i=this,r=function(){t=i.getItemSource(n.item);t&&(t=i.clearSourceItem(t,n.valueNames))};this.clearSourceItem=function(t,i){for(var u,f,o,r=0,e=i.length;r<e;r++){if(i[r].data)for(f=0,o=i[r].data.length;f<o;f++)t.setAttribute("data-"+i[r].data[f],"");else i[r].attr&&i[r].name?(u=n.utils.getByClass(t,i[r].name,!0),u&&u.setAttribute(i[r].attr,"")):(u=n.utils.getByClass(t,i[r],!0),u&&(u.innerHTML=""));u=undefined}return t};this.getItemSource=function(t){var r,s,i,o,u,f,e;if(t===undefined){for(r=n.list.childNodes,s=[],i=0,o=r.length;i<o;i++)if(r[i].data===undefined)return r[i].cloneNode(!0)}else{if(/<tr[\s>]/g.exec(t))return u=document.createElement("tbody"),u.innerHTML=t,u.firstChild;if(t.indexOf("<")!==-1)return f=document.createElement("div"),f.innerHTML=t,f.firstChild;if(e=document.getElementById(n.item),e)return e}return undefined};this.get=function(t,r){var e,u,s,f,o,h;for(i.create(t),e={},u=0,s=r.length;u<s;u++){if(r[u].data)for(o=0,h=r[u].data.length;o<h;o++)e[r[u].data[o]]=n.utils.getAttribute(t.elm,"data-"+r[u].data[o]);else r[u].attr&&r[u].name?(f=n.utils.getByClass(t.elm,r[u].name,!0),e[r[u].name]=f?n.utils.getAttribute(f,r[u].attr):""):(f=n.utils.getByClass(t.elm,r[u],!0),e[r[u]]=f?f.innerHTML:"");f=undefined}return e};this.set=function(t,r){var f=function(t){for(var u,r,e,i=0,f=n.valueNames.length;i<f;i++)if(n.valueNames[i].data){for(u=n.valueNames[i].data,r=0,e=u.length;r<e;r++)if(u[r]===t)return{data:t}}else{if(n.valueNames[i].attr&&n.valueNames[i].name&&n.valueNames[i].name==t)return n.valueNames[i];if(n.valueNames[i]===t)return t}},e=function(i,r){var e,u=f(i);u&&(u.data?t.elm.setAttribute("data-"+u.data,r):u.attr&&u.name?(e=n.utils.getByClass(t.elm,u.name,!0),e&&e.setAttribute(u.attr,r)):(e=n.utils.getByClass(t.elm,u,!0),e&&(e.innerHTML=r)),e=undefined)},u;if(!i.create(t))for(u in r)r.hasOwnProperty(u)&&e(u,r[u])};this.create=function(n){if(n.elm!==undefined)return!1;if(t===undefined)throw new Error("The list need to have at list one item on init otherwise you'll have to add a template.");var r=t.cloneNode(!0);return r.removeAttribute("id"),n.elm=r,i.set(n,n.values()),!0};this.remove=function(t){t.elm.parentNode===n.list&&n.list.removeChild(t.elm)};this.show=function(t){i.create(t);n.list.appendChild(t.elm)};this.hide=function(t){t.elm!==undefined&&t.elm.parentNode===n.list&&n.list.removeChild(t.elm)};this.clear=function(){if(n.list.hasChildNodes())while(n.list.childNodes.length>=1)n.list.removeChild(n.list.firstChild)};r()};n.exports=function(n){return new t(n)}},function(n){n.exports=function(n,t){var r=n.getAttribute&&n.getAttribute(t)||null,u,f,i;if(!r)for(u=n.attributes,f=u.length,i=0;i<f;i++)t[i]!==undefined&&t[i].nodeName===t&&(r=t[i].nodeValue);return r}},function(n){"use strict";function f(n){return n>=48&&n<=57}function r(n,i){for(var y=(n+="").length,p=(i+="").length,a=0,v=0,r,e,o,h,s,c,l;a<y&&v<p;){if(r=n.charCodeAt(a),e=i.charCodeAt(v),f(r)){if(!f(e))return r-e;for(o=a,h=v;r===48&&++o<y;)r=n.charCodeAt(o);while(e===48&&++h<p)e=i.charCodeAt(h);for(s=o,c=h;s<y&&f(n.charCodeAt(s));)++s;while(c<p&&f(i.charCodeAt(c)))++c;if(l=s-o-c+h,l)return l;while(o<s)if(l=n.charCodeAt(o++)-i.charCodeAt(h++),l)return l;a=s;v=c;continue}if(r!==e)return r<u&&e<u&&t[r]!==-1&&t[e]!==-1?t[r]-t[e]:r-e;++a;++v}return y-p}var i,t,u=0;r.caseInsensitive=r.i=function(n,t){return r((""+n).toLowerCase(),(""+t).toLowerCase())};Object.defineProperties(r,{alphabet:{get:function(){return i},set:function(n){i=n;t=[];var r=0;if(i)for(;r<i.length;r++)t[i.charCodeAt(r)]=r;for(u=t.length,r=0;r<u;r++)t[r]===undefined&&(t[r]=-1)}}});n.exports=r},function(n){n.exports=function(n,t,i){function c(n,i){var r=n/t.length,u=Math.abs(f-i);return b?r+u/b:u?1:r}var nt=i.location||0,b=i.distance||100,tt=i.threshold||.4,f,k,e,u,d,l,o,a,v,s,r,p,w;if(t===n)return!0;if(t.length>32)return!1;for(f=nt,k=function(){for(var i={},n=0;n<t.length;n++)i[t.charAt(n)]=0;for(n=0;n<t.length;n++)i[t.charAt(n)]|=1<<t.length-n-1;return i}(),e=tt,u=n.indexOf(t,f),u!=-1&&(e=Math.min(c(0,u),e),u=n.lastIndexOf(t,f+t.length),u!=-1&&(e=Math.min(c(0,u),e))),d=1<<t.length-1,u=-1,a=t.length+n.length,s=0;s<t.length;s++){for(l=0,o=a;l<o;)c(s,f+o)<=e?l=o:a=o,o=Math.floor((a-l)/2+l);a=o;var g=Math.max(1,f-o+1),y=Math.min(f+o,n.length)+t.length,h=Array(y+2);for(h[y+1]=(1<<s)-1,r=y;r>=g;r--)if(p=k[n.charAt(r-1)],h[r]=s===0?(h[r+1]<<1|1)&p:(h[r+1]<<1|1)&p|(v[r+1]|v[r])<<1|1|v[r+1],h[r]&d&&(w=c(s,r-1),w<=e))if(e=w,u=r-1,u>f)g=Math.max(1,2*f-u);else break;if(c(s+1,f)>e)break;v=h}return u<0?!1:!0}}]);class RefJS{constructor(){this.GlobalOptions={FetchCache:"default"};this.ToParamString=this.generateStringParam;this.IsFunction=this.isFunction;this.GenerateUnobtrusiveFunction=this.generateUnobtrusiveFunction}find(n){const t=n[0]==="#",i=n[0]===".",r=n.includes(" ")||n.includes("=")||n.includes("[")||t&&n.includes("."),u=!(t||i||r);return r?document.querySelectorAll(n):t?document.getElementById(n.substring(1)):i?document.getElementsByClassName(n.substring(1)):u?document.getElementsByTagName(n):document.querySelectorAll(n)}Id(n){return document.getElementById(n)}OnDocumentReady(n){document.readyState==="complete"?n():document.addEventListener("DOMContentLoaded",n)}AddEventListener(n,t,i){const r=this.getObjectOrExecuteQuery(t);this.executeCollectionOrSingleTask(r,t=>{t.addEventListener(n,i)})}RemoveEventListener(n,t,i){const r=this.getObjectOrExecuteQuery(n);this.executeCollectionOrSingleTask(r,n=>{n.removeEventListener(t,i)})}AsyncLoad(n,t,i,r){return this.finalRequest(!1,t,i,this.fillMissingAsyncOptions(r,!1)).then(t=>{const i=this.IsObject(n)?n:this.getObjBySanitizedID(n);this.Empty(i);i.innerHTML=t;const r=i.querySelectorAll("script");this.ForEach(r,n=>{this.NodeScriptReload(n)})}).catch(n=>{console.error(n)})}AsyncGet(n,t,i){return this.finalRequest(!1,n,t,this.fillMissingAsyncOptions(i,!1))}AsyncGetJson(n,t,i){return this.finalRequest(!1,n,t,this.fillMissingAsyncOptions(i,!0))}AsyncPost(n,t,i){return this.finalRequest(!0,n,t,this.fillMissingAsyncOptions(i,!1))}AsyncSubmitForm(n,t){const i=this.getObjBySanitizedID(n),r=i.getAttribute("action"),u=new FormData(i);return this.finalRequest(!0,r,u,this.fillMissingAsyncOptions(t,!1))}finalRequest(n,t,i,r){return new Promise((u,f)=>{t=n?t:this.formatURLWithParam(t,i);n&&!this.IsFormData(i)&&(i=this.generateFormDataFromObj(i));const e={method:n?"POST":"GET",body:n?i:null,cache:r.fetchCache,mode:r.fetchMode,credentials:"same-origin"};fetch(t,e).then(this.checkFetchStatus).then(n=>r.isJson?n.json():n.text()).then(n=>{u(n)}).catch(n=>{console.error(n),f(n)})})}checkFetchStatus(n){if(n.status>=200&&n.status<300)return n;const t=new Error(n.statusText);t.response=n;throw t;}fillMissingAsyncOptions(n,t){return n!=null&&this.IsObject(n)||(n={}),this.IsValidValue(n.isJson)||(n.isJson=t===!0?!0:!1),this.IsValidValue(n.fetchCache)||(n.fetchCache=this.GlobalOptions.FetchCache),this.IsValidValue(n.fetchMode)||(n.fetchMode="no-cors"),n}generateStringParam(n){let t="";for(const i in n)n.hasOwnProperty(i)&&(t.length>0&&(t+="&"),t+=encodeURI(`${i}=${n[i]}`));return t}formatURLWithParam(n,t){return t!=null?typeof t=="string"?encodeURI(`${n}?${t}`):encodeURI(`${n}?${this.generateStringParam(t)}`):encodeURI(n)}generateFormDataFromObj(n){const t=new FormData;for(const i in n)n.hasOwnProperty(i)&&t.append(i,n[i]);return t}executeCollectionOrSingleTask(n,t){this.IsArray(n)||this.IsHTMLCollection(n)||n.constructor===NodeList?this.ForEach(n,t):t(n)}getObjectOrExecuteQuery(n){return this.IsObject(n)?n:this.find(n)}getObjBySanitizedID(n){return n=n.replace("#",""),this.Id(n)}isFunction(n){return n&&{}.toString.call(n)==="[object Function]"}GetType(n){return n==null?null:this.IsObject(n)?Object.prototype.toString.call(n):typeof n}IsObject(n){return typeof n=="object"}IsFormData(n){return typeof FormData!="undefined"&&n instanceof FormData}IsTypeOf(n,t){const i=this.GetType(n);return i==null?!1:this.StringContains(i,t)}IsNullOrUndefined(n){return n==null||n=="undefined"}IsNumeric(n){const t=Number(n),i=typeof n;return n!=null&&i!=="boolean"&&(i!=="string"||n.length)&&!isNaN(t)&&isFinite(t)||!1}ForEach(n,t){if(n!==null&&typeof n!="undefined"){typeof n=="object"||this.IsArray(n)||(n=[n]);for(let i=0,r=n.length;i<r;i++)t(n[i])}}Empty(n){const t=this.IsObject(n)?n:this.find(n);this.executeCollectionOrSingleTask(t,n=>{while(n.firstChild)n.removeChild(n.firstChild)})}ScrollTo(n,t){const f=document.scrollingElement||document.documentElement,e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.IsValidValue(t)||(t=1250);const o=typeof n=="number"?n:n.getBoundingClientRect().top,i=e,s=o-i,r=20,u=n=>{n+=r;const e=this.easeInOut(n,i,s,t);f.scrollTop=e;n<t&&setTimeout(()=>{u(n)},r)};u(0)}GetScrollTop(){if(typeof pageYOffset!="undefined")return pageYOffset;const t=document.body;let n=document.documentElement;return n=n.clientHeight?n:t,n.scrollTop}AppendHTML(n,t,i){this.IsValidValue(i)||(i="beforeend");const r=this.getObjectOrExecuteQuery(n);this.executeCollectionOrSingleTask(r,n=>{n.insertAdjacentHTML(i,t)})}MoveHTMLTo(n,t){const i=this.getObjBySanitizedID(n),r=this.find(t);this.IsHTMLCollection(i)&&console.error("Error: Source must be a single selectable object.");const u=i.innerHTML;this.Empty(i);this.executeCollectionOrSingleTask(r,n=>{this.Empty(n),n.innerHTML=u})}FindChildren(n,t){return n=this.getObjectOrExecuteQuery(n),n.querySelectorAll(t)}FindParent(n,t){const i=t[0]==="#",r=t[0]===".",u=!i&&!r;while(n&&n.parentNode)if((n=n.parentNode,i&&n.id&&n.id==t.substring(1))||r&&n.classList&&n.classList.contains(t.substring(1))||u&&n.tagName&&n.tagName.toLowerCase()==t)return n}Show(n,t,i){const r=this.getObjectOrExecuteQuery(n);this.executeCollectionOrSingleTask(r,n=>{t?(n.classList.remove("hidden"),i===!0?this.AnimateFadeIn(r):n.style.display="block"):i===!0?this.AnimateFadeOut(r):n.style.display="none"})}ToggleShowHide(n,t){const i=this.getObjectOrExecuteQuery(n),r=i.style.display==="none"||i.classList.contains("hidden");this.Show(i,r,t)}Throttle(n,t,i){let u,f,o,r=null,e=0;i||(i={});const s=()=>{e=i.leading===!1?0:(new Date).getTime(),r=null,o=n.apply(u,f),r||(u=f=null)};return function(){const h=(new Date).getTime();e||i.leading!==!1||(e=h);const c=t-(h-e);return u=this,f=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),e=h,o=n.apply(u,f),r||(u=f=null)):r||i.trailing===!1||(r=setTimeout(s,c)),o}}StringEquals(n,t){return String(n).toLowerCase()===String(t).toLowerCase()}StringContains(n,t){return n.toLowerCase().includes(t.toLowerCase())}StringFormat(n){var t=Array.prototype.slice.call(arguments,1);return n.replace(/{(\d+)}/g,function(n,i){return typeof t[i]!="undefined"?t[i]:n})}ReplaceAll(n,t,i){return this.replace(new RegExp(n.replace(/([\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,n=>`\${n}`),`g${i?"i":""}`),t)}CommaFormat(n){return Number(n).toLocaleString("en")}IsHTMLCollection(n){return n.constructor===HTMLCollection}IsArray(n){return n.constructor===Array}ArrayContains(n,t){let i=n.length;while(i--)if(n[i]===t)return!0;return!1}IsValidValue(n){return n!=null&&n.length>0&&n!=="undefined"||n===!0||n===!1}IsValidElement(n){const t=this.IsObject(n)?n:this.getObjBySanitizedID(n);return id!==null&&id!==undefined&&id.length>0}UrlAction(n,t,i){let r="";if(i){for(const n in i)r!==""&&(r+="&"),r+=`${n}=${encodeURIComponent(i[n])}`;return`/${t}/${n}?${r}`}return t==null||t=="undefined"?`/${n}`:`/${t}/${n}`}InputFilterDecimal(n){n.value=n.value.replace(/[^0-9.]/g,"")}RadioButtonValueByName(n){return document.querySelector(this.StringFormat('input[name="{0}"]:checked',n)).value}AddSelectListItem(n,t,i){this.AppendHTML(n,this.StringFormat('<option value="{1}">{0}<\/option>',t,i),"beforeend")}GetSelectListValue(n){const t=this.getObjectOrExecuteQuery(n);return t[t.selectedIndex].value}GetSelectListText(n){const t=this.getObjectOrExecuteQuery(n);return t[t.selectedIndex].innerHTML}DeleteSelctListItem(n,t){const i=this.getObjectOrExecuteQuery(n,t);for(let n=0;n<i.length;n++)i.options[n].value===t&&i.remove(n)}ClearSelectList(n){const t=this.getObjectOrExecuteQuery(n);while(t.options.length>0)t.remove(0)}PopulateSelectList(n,t,i){const r=this.getObjectOrExecuteQuery(n);i===!0&&this.ClearSelectList(r);this.ForEach(t,n=>{this.AddSelectListItem(r,n.Text,n.Value)})}SelectListContains(n,t,i){const u=this.getObjectOrExecuteQuery(n);let r=!1;return this.ForEach(u.options,n=>{r||(n.value===t.toString()&&(r=!0),n.innerHTML===i&&(r=!0))}),r}NodeScriptReload(n){function t(n){return n.tagName==="SCRIPT"}function i(n){const t=document.createElement("script");t.text=n.innerHTML;for(let i=n.attributes.length-1;i>=0;i--)t.setAttribute(n.attributes[i].name,n.attributes[i].value);return t}if(t(n)===!0)n.parentNode.replaceChild(i(n),n);else{let t=0;const i=n.childNodes;while(t<i.length)this.NodeScriptReload(i[t++])}return n}LoadJS(n,t){const i=document.createElement("script");i.src=n;i.onload=()=>{this.isFunction(t)&&t()};document.head.appendChild(i)}IsIEorEdge(){return navigator.userAgent.includes("MSIE ")||navigator.userAgent.includes("Trident/")||navigator.userAgent.includes("Edge/")}AnimateFadeOut(n,t){n=this.getObjectOrExecuteQuery(n);this.executeCollectionOrSingleTask(n,()=>{let i=1;t==null&&(t=20);const r=setInterval(()=>{i<=.1&&(clearInterval(r),n.style.display="none"),n.style.opacity=i,n.style.filter=`alpha(opacity=${i*100})`,i-=i*.1},t)})}AnimateFadeIn(n,t){n=this.getObjectOrExecuteQuery(n);this.executeCollectionOrSingleTask(n,()=>{let i=.1;n.style.display="block";t==null&&(t=20);const r=setInterval(()=>{i>=1&&clearInterval(r),n.style.opacity=i,n.style.filter=`alpha(opacity=${i*100})`,i+=i*.1},t)})}easeInOut(n,t,i,r){return(n/=r/2,n<1)?i/2*n*n+t:(n-=1,-i/2*(n*(n-2)-1)+t)}ValidateForm(n,t){function i(n,t,i){u.push(n);i&&t.classList.add("input-has-error")}n=n.replace("#","");(t==null||t==="undefined")&&(t=!0);const f=document.querySelectorAll(`#${n} [data-val="true"]`);if(f.length<1)return!0;const u=[],r=document.querySelector(`#${n} [data-valmsg-summary=true]`);if(this.ForEach(f,n=>{n.classList.contains("input-has-error")&&n.classList.remove("input-has-error");const r=n.hasAttribute("data-val-required"),u=n.value.length>0;if(r&&(n.value==null||n.value.length<1||n.value.toLowerCase()==="select")&&i(n.getAttribute("data-val-required"),n,t),n.hasAttribute("data-val-email")&&(r||u)&&!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,6})+$/.test(n.value)&&i(n.getAttribute("data-val-email"),n,t),n.hasAttribute("data-val-length-min")){const f=parseInt(n.getAttribute("data-val-length-min"));(r||u)&&n.value.length<f&&i(n.getAttribute("data-val-length"),n,t)}if(n.hasAttribute("data-val-length-max")){const f=parseInt(n.getAttribute("data-val-length-max"));(r||u)&&n.value.length>f&&i(n.getAttribute("data-val-length"),n,t)}if(n.hasAttribute("data-val-minlength-min")){const f=parseInt(n.getAttribute("data-val-minlength-min"));(r||u)&&n.value.length<f&&i(n.getAttribute("data-val-minlength"),n,t)}if(n.hasAttribute("data-val-maxlength-max")){const f=parseInt(n.getAttribute("data-val-maxlength-max"));(r||u)&&n.value.length>f&&i(n.getAttribute("data-val-maxlength"),n,t)}n.getAttribute("type")==="date"&&(r||u)&&/Invalid|NaN/.test(new Date(n.value).toString())&&i(`${n.getAttribute("name")} must be a proper date value.`,n,t);n.getAttribute("type")==="url"&&(r||u)&&/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(n.value)&&i(`${n.getAttribute("name")} must be a proper url value.`,n,t)}),r==null)return console.info("Not displaying validation errors. [data-valmsg-summary] not found. Use @Html.ValidationSummary() on MVC."),u.length<1;const e=r.firstChild;return r.className="",this.Empty(e),u.length>0?(r.classList.add("validation-summary-errors"),this.ForEach(u,n=>{e.innerHTML+=`<li>${n}</li>`}),!1):(r.classList.add("validation-summary-valid"),!0)}UnobtrusiveLoadPartial(n){let t=n.getAttribute("data-url");const i=n.getAttribute("data-targetid");return n.hasAttribute("data-params")&&(t=`${t}?${n.getAttribute("data-params")}`),this.AsyncLoad(i,t,null,null).then(()=>{const t=this.generateUnobtrusiveFunction(n.getAttribute("data-success"));this.isFunction(t)&&t()}).catch(t=>{console.error(t);const i=this.generateUnobtrusiveFunction(n.getAttribute("data-error"));this.isFunction(i)&&i()})}generateUnobtrusiveFunction(n){if(!this.IsValidValue(n))return null;if(this.StringContains(n,".")){const t=n.split("."),i=window[t[0]];return i[t[1]]}return window[n]}}pega=function(){"use strict";function n(){}function e(n){var r=rj.Id(n),f=r.getElementsByClassName("subscribe-email-text")[0],u=r.getElementsByClassName("subscribe-email-button")[0],i=f.value;if(i.length<4&&(!rj.StringContains(i,"@")||!rj.StringContains(i,"."))){alertify.error("Please enter a valid email address.");return}Button(u,"loading");rj.AsyncPost(rj.UrlAction("SubscribeEmail","Company"),{email:i},{isJson:!0}).then(function(n){t(n)?r.style.display="none":Button(u,"reset")}).catch(pega.OnFetchError)}function f(n){return n.ResultType==null||n.ResultType===0||n.ResultType===1}function t(n){return i(),n.ResultType==null?alertify.success(n):n.ResultType===4?alertify.error(n.Message):n.ResultType===1?alertify.info(n.Message):n.ResultType===0&&alertify.success(n.Message),f(n)}function o(n){window.open(n,"popUpWindow","height=700, width=800, left=10, top=10, resizable=yes, scrollbars=yes, toolbar=yes, menubar=no, location=no, directories=no, status=yes")}function s(){rj.Id("siteWideOverlay").style.display="block"}function i(){rj.Id("siteWideOverlay").style.display="none"}function h(t){var i=t.getAttribute("data-url"),r=t.getAttribute("data-targetid"),u=t.getAttribute("data-size");t.hasAttribute("data-params")&&(i=i+"?"+t.getAttribute("data-params"));n.LoadModal("#"+r,i,null,{Title:t.getAttribute("data-title"),AddCloseButton:t.hasAttribute("data-closebutton"),Size:u,HideFooter:t.hasAttribute("data-hidefooter")}).then(function(){var n=rj.GenerateUnobtrusiveFunction(t.getAttribute("data-success"));rj.IsFunction(n)&&n()})}function c(t){var e=t?rj.find("#mainNavBar"):rj.find("#pageSliderMain"),f,i,u;r(e,rj.Id("psm1"));f=rj.find("#pageSliderMain .container").length;f>1&&(rj.Id("imageSliderProgressBarContainer").style.display="block",n.Settings.currentImageProgressBar=rj.Id("imageSliderProgressBar"),rj.AddEventListener("mouseover","#pageSliderMain",function(){n.Settings.allowProgressionOnProgressBar=!1}),rj.AddEventListener("mouseout","#pageSliderMain",function(){n.Settings.allowProgressionOnProgressBar=!0}),i=0,u=1,setInterval(function(){if(n.Settings.allowProgressionOnProgressBar)if(i++,i>99){i=-10;rj.Id(rj.StringFormat("psm{0}",u)).style.display="none";u=u>=f?1:u+1;var t=rj.Id(rj.StringFormat("psm{0}",u));t.style.display="block";r(e,t)}else n.Settings.currentImageProgressBar!==null&&(n.Settings.currentImageProgressBar.style.width=i<1?"0%":i+"%")},100))}function r(n,t){var i,r;t.hasAttribute("data-backgroundimg")&&(i=t.getAttribute("data-backgroundimg"),rj.StringContains(i,"#")?n.style.backgroundColor=i:(r=t.hasAttribute("data-lineargradient")?t.getAttribute("data-lineargradient"):"linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.4))",n.style.backgroundImage=rj.StringFormat("{0},url('{1}')",r,i),n.style.backgroundSize=t.hasAttribute("data-backgroundsize")?t.getAttribute("data-backgroundsize"):"unset"))}function l(t){var i=rj.find(rj.StringFormat("#{0} div[data-pegaminislider]",t)),r=new CustomEvent(rj.StringFormat("{0}.mini.next.slide",t)),f=new CustomEvent(rj.StringFormat("{0}.mini.previous.slide",t));n.Settings.customEventsArray[rj.StringFormat("{0}.mini.next",t)]=r;n.Settings.customEventsArray[rj.StringFormat("{0}.mini.previous",t)]=f;rj.AddEventListener(rj.StringFormat("{0}.mini.next.slide",t),document,function(){u(i,!0)});rj.AddEventListener(rj.StringFormat("{0}.mini.previous.slide",t),document,function(){u(i,!1)})}function u(n,t){for(var f,r=n.length,u=!1,i=0;i<r;i++)if(n[i].style.display===""||n[i].style.display==="block"){f=t?i+1>=r?0:i+1:i-1<0?r-1:i-1;rj.AnimateFadeOut(n[i],10);n[i].style.display="none";rj.AnimateFadeIn(n[f],10);u=!0;break}u===!1&&rj.AnimateFadeIn(n[0],10)}return n.Settings={allowProgressionOnProgressBar:!0,currentImageProgressBar:null,mainModalObject:null,secondModalObject:null,customEventsArray:{},TableKeys:{}},n.SubscribeEmailMailing=e,n.ResultWasSuccess=f,n.DisplayResultsItem=t,n.ShowMiniBrowserPopupWindow=o,n.UnobtrusiveLoadModal=h,n.InitializePegaMiniSlider=l,n.AssignProperImageToSlider=r,n.HandleMiniSlideChangeEvent=u,n.InitializePageMainSlider=c,n.ShowSiteWideOverlay=s,n.HideSiteWideOverlay=i,n.SubmitFormOnEnterPressed=function(n,t){n&&n.keyCode===13&&(n.preventDefault(),t())},n.OnFetchError=function(n){i();console.error(n);alertify.error(n.message)},n.BrowserSupportsAllFeatures=function(){return window.Promise&&window.fetch},n.ButtonLoading=function(n){Button(rj.Id(n),"loading")},n.ButtonReset=function(n){Button(rj.Id(n),"reset")},n.LoadModal=function(i,r,u,f){return n.ShowSiteWideOverlay(),rj.AsyncGet(r,u,f).then(function(r){var c,l,a,v,s,y,h;if(rj.StringContains(r,'{"ResultType":')){c=JSON.parse(r);t(c);return}i=i.replace("#","");var u=rj.Id(i),e=u.querySelector(".modal-body"),o=u.querySelector(".modal-footer");rj.Empty(e);e.innerHTML=r;l=e.querySelectorAll("script");rj.ForEach(l,function(n){rj.NodeScriptReload(n)});(f==null||f==="undefined")&&(f={});rj.IsValidValue(f.Title)&&(a=u.querySelector(".modal-title"),a.innerHTML=f.Title);rj.Show(o,!(f.HideFooter===!0));f.HideFooter!==!0&&f.AddCloseButton===!0&&(rj.Empty(o),o.innerHTML+='<button class="btn btn-danger btn-sm" data-dismiss="modal">Close<\/button>');v=document.querySelector("#"+i+" .modal-dialog");s=rj.IsValidValue(f.Size)?f.Size==="max"?"pega-relative-bg-modal":f.Size==="mid"?"":"modal-lg":"modal-lg";rj.IsValidValue(s)&&v.classList.add(s);y=f.allowCloseOnBackground===!0?"":"static";h={backdrop:y,keyboard:!1};rj.StringContains("#"+i,"secondModal")?(n.Settings.mainModalObject!=null&&n.Settings.mainModalObject.hide(),n.Settings.secondModalObject=null,n.Settings.secondModalObject=new Modal(u,h),n.Settings.secondModalObject.show()):(n.Settings.mainModalObject=null,n.Settings.mainModalObject=new Modal(u,h),n.Settings.mainModalObject.show())}).catch(n.OnFetchError).finally(n.HideSiteWideOverlay)},n.InitializeTabs=function(n){for(var r=document.getElementById(n),i=r.getElementsByTagName("a"),t=0;t<i.length;t++)new Tab(i[t],{height:!0})},n.EmptyModal=function(n){n=n.replace("#","");rj.Empty(rj.StringFormat("#{0} .modal-title, #{0} .modal-body, #{0} .modal-footer",n));var t=document.querySelector(rj.StringFormat("#{0} .modal-dialog",n));t.classList.remove("pega-relative-bg-modal");t.classList.remove("modal-lg")},n.ToggleClickPopover=function(n){var t=rj.Id(n);if(rj.IsNullOrUndefined(t.Popover)){new Popover(t,{trigger:"click"}).toggle();return}t.Popover.toggle()},n.UnobtrusiveLoadPartial=function(n){pega.ShowSiteWideOverlay();rj.UnobtrusiveLoadPartial(n).finally(pega.HideSiteWideOverlay)},n.UnobtrusiveListJSSort=function(t){var r,u;t.nodeName.toUpperCase()!=="TH"&&(t=rj.FindParent(t,"th"));var f=rj.FindParent(t,"table"),e=n.Settings.TableKeys[f.id],o=t.getAttribute("data-sortvalue"),i=t.hasAttribute("data-sortdesc")?"desc":"asc";if(i==="asc"?t.setAttribute("data-sortdesc",""):t.removeAttribute("data-sortdesc"),r=t.querySelector("span[data-icon]"),r!=null&&r!=undefined&&(rj.ForEach(f.getElementsByClassName("ion-arrow-down-b"),function(n){n.classList.remove("ion-arrow-down-b")}),rj.ForEach(f.getElementsByClassName("ion-arrow-up-b"),function(n){n.classList.remove("ion-arrow-up-b")}),r.classList.add(i=="asc"?"ion-arrow-down-b":"ion-arrow-up-b")),u=null,t.hasAttribute("data-sortfunction")&&typeof window[t.getAttribute("data-sortfunction")]=="function"&&(u=window[t.getAttribute("data-sortfunction")]),u!=null){e.sort(o,{sortFunction:u,order:i});return}e.sort(o,{order:i})},n}();const rj=new RefJS;app=function(){"use strict";function t(n,t){var i=rj.Id(t);rj.ForEach(rj.find(rj.StringFormat("#{0} a",n)),function(n){var t=n.innerHTML.trim(),r=t.lastIndexOf(">"),u=t.substring(r+1),f=n.getAttribute("data-url");rj.AppendHTML(i,rj.StringFormat('<li><a href="javascript:void(0)" data-loadpartial data-targetid="partialBody" data-url="{0}">{1}<\/a><\/li>',f,u))})}function i(){grecaptcha!=undefined&&grecaptcha!=null&&grecaptcha.reset()}var n={};return n.Version="0.1.2",n.View_FullCoinsLoaded=function(){pega.Settings.TableKeys.holdingPortfolioTable=new List("portfolioCurrentHoldingCoins",{valueNames:["name","profit"],page:20,pagination:!0});pega.Settings.TableKeys.soldPortfolioTable=new List("portfolioCurrentSoldCoins",{valueNames:["name","profit"],page:30,pagination:!0});pega.InitializeTabs("mainCoinPortfolioTabs")},n.Crypto_FullDashboardLoaded=function(){pega.InitializeTabs("mainDashboardConvTabs")},n.View_GetOfficialCoinLoaded=function(){pega.InitializeTabs("officialCoinConvTabs")},n.SubmitCreateUserForm=function(){rj.ValidateForm("createAccountForm",!0)&&(pega.ButtonLoading("createUserBtn"),rj.AsyncSubmitForm("createAccountForm",{isJson:!0}).then(function(n){n.ResultType===0?window.location.href=rj.UrlAction("Dashboard"):rj.Id("createMessageError").innerHTML=n.Message}).catch(pega.OnFetchError).finally(function(){pega.ButtonReset("createUserBtn");i()}))},n.SubmitLoginForm=function(){rj.ValidateForm("loginAccountForm",!0)&&(pega.ButtonLoading("userLoginBtn"),rj.AsyncSubmitForm("loginAccountForm",{isJson:!0}).then(function(n){n.ResultType===0?window.location.href=rj.UrlAction("Dashboard"):rj.Id("loginMessageError").innerHTML=n.Message}).catch(pega.OnFetchError).finally(function(){pega.ButtonReset("userLoginBtn");i()}))},n.SubmitPasswordResetForm=function(){rj.ValidateForm("passwordResetForm",!0)&&(pega.ButtonLoading("passwordResetBtn"),rj.AsyncSubmitForm("passwordResetForm",{isJson:!0}).then(function(n){rj.Id("passwordResetErrorMessage").innerHTML=n.Message;rj.Id("passwordResetBtn").outerHTML="";pega.DisplayResultsItem(n)}).catch(function(n){pega.OnFetchError(n);pega.ButtonReset("passwordResetBtn")}))},n.SubmitChooseNewPasswordForm=function(){pega.ShowSiteWideOverlay();rj.AsyncSubmitForm("chooseNewPasswordForm",{isJson:!0}).then(function(n){pega.DisplayResultsItem(n)&&(window.location.href=rj.UrlAction("Index","Home"))}).catch(pega.OnFetchError).finally(pega.HideSiteWideOverlay)},n.SubmitChangePasswordForm=function(){pega.ShowSiteWideOverlay();rj.AsyncSubmitForm("changePasswordForm",{isJson:!0}).then(function(n){pega.DisplayResultsItem(n)&&(window.location.href=rj.UrlAction("Index","Home"))}).catch(pega.OnFetchError).finally(pega.HideSiteWideOverlay)},n.PortfolioHoldingsTabChanged=function(n){rj.Show("#holdingSummaryBlocks",!1,!1);rj.Show("#soldSummaryBlocks",!1,!1);n==="current"?rj.Show("#holdingSummaryBlocks",!0,!1):n==="sold"&&rj.Show("#soldSummaryBlocks",!0,!1)},n.ReloadPortfolio=function(){pega.ShowSiteWideOverlay();rj.AsyncLoad("partialBody",rj.UrlAction("Portfolio","Crypto")).catch(pega.OnFetchError).finally(pega.HideSiteWideOverlay)},n.ReloadPortfolioHoldingsCoinSummary=function(){var n,t,i,r,u;pega.ShowSiteWideOverlay();n=rj.find('input[name="portfolioCoinsDisplayType"]')[0].checked;t=rj.Id("displayCurrencyFormatSL").value;rj.Id("currentPortfolioViewOtherUser").value==="True"?(i=rj.Id("currentViewUserUsernameInput").value,r=rj.GetSelectListText("#globalCurrentlySelectedPortfolio"),rj.AsyncLoad("coinsSummary",rj.UrlAction("LoadPortfolioViewMode","Crypto"),{username:i,portfolioName:r,UseCombinedDisplay:n,Currency:t,coinsOnly:!0}).catch(pega.OnFetchError).finally(pega.HideSiteWideOverlay)):(u=app.GetCurrentPortfolioId(),rj.AsyncLoad("coinsSummary",rj.UrlAction("GetAllCoinsFromPortfolio","Crypto"),{portfolioId:u,useCombinedDisplay:n,currency:t}).catch(pega.OnFetchError).finally(pega.HideSiteWideOverlay))},n.IsValidSymbol=function(n){return n=n.toUpperCase(),rj.IsValidValue(n)&&(n.startsWith("BTC-")||n.startsWith("ETH-")||n.startsWith("USD-")||n.startsWith("USDT-"))},n.GetLatestPriceOfCoinBasedOnSymbol=function(n,t){if(!app.IsValidSymbol(n)){alertify.error("Please enter a valid symbl. E.g. BTC-XRP");return}rj.AsyncGet(rj.UrlAction("GetCurrentCoinPrice","Crypto"),{symbol:n}).then(function(n){if(n===0){alertify.error("Unable to get the latest price based on Symbol. Please enter manually.");return}rj.Id(t).value=n}).catch(pega.OnFetchError)},n.GetWatchOnlyDetailsBasedOnSymbol=function(n){if(!app.IsValidSymbol(n)){alertify.error("Please enter a valid symbl. E.g. BTC-XRP");return}rj.AsyncGetJson(rj.UrlAction("GetGeneratedWatchOnlyDetails","Crypto"),{symbol:n}).then(function(n){if(!rj.IsNullOrUndefined(n.ResultType)){pega.DisplayResultsItem(n);return}rj.Id("Coin_Shares").value=n.quantity;rj.Id("coinPricePerUnitAddFormInput").value=n.pricePerUnit;rj.Id("Coin_TotalPricePaidUSD").value=100}).catch(pega.OnFetchError)},n.GetCurrentPortfolioId=function(){return rj.Id("globalCurrentlySelectedPortfolio").value},n.ViewUserProfile=function(n){pega.ShowSiteWideOverlay();rj.AsyncLoad("partialBody",rj.UrlAction("GetViewUser","Account"),{username:n}).finally(pega.HideSiteWideOverlay)},n.PTOpenLoginForm=function(n){pega.LoadModal("#mainModal",rj.UrlAction("ModalLogin","Account"),{returnUrl:n},{Title:"Login or Create an account",HideFooter:!0}).then(function(){grecaptcha.render("recaptcha-login")})},n.PTOpenCreateForm=function(){pega.LoadModal("#mainModal",rj.UrlAction("Create","Account"),null,{Title:"Create a new account",HideFooter:!0}).then(function(){grecaptcha.render("recaptcha-signup")})},n.PTOpenForgotPassowrdForm=function(){pega.LoadModal("#mainModal",rj.UrlAction("PasswordResetForm","Account"),null,{Title:"Forgot your password?",HideFooter:!0})},n.SubmitPortfolioManagementForm=function(){rj.ValidateForm("portfolioManagementForm")&&rj.AsyncSubmitForm("portfolioManagementForm",{isJson:!0}).then(function(t){pega.DisplayResultsItem(t)&&(pega.Settings.secondModalObject.hide(),n.RefreshCurrentPortfolioList(!0))}).catch(pega.OnFetchError)},n.ReOpenPortfolioListModam=function(){rj.RemoveEventListener("hidden.bs.modal","#secondModal",app.ReOpenPortfolioListModam);setTimeout(function(){pega.LoadModal("#mainModal",rj.UrlAction("GetPortfolioList","Crypto"),{isUpdated:!0},{Size:"mid",Title:"Manage Portfolios",HideFooter:!0})},300)},n.RefreshCurrentPortfolioList=function(n){rj.IsNullOrUndefined(n)&&(n=!1);rj.AsyncGetJson(rj.UrlAction("GetAllPortfolioSelectList","Crypto"),{updateUser:n}).then(function(n){var t=rj.Id("globalCurrentlySelectedPortfolio"),i=t.value;rj.PopulateSelectList(t,n,!0);rj.SelectListContains(t,i)&&(t.value=i)}).catch(pega.OnFetchError)},n.DeletePortfolio=function(t){alertify.confirm("Are you sure that you want to delete this portfolio?",function(){pega.ShowSiteWideOverlay();rj.AsyncPost(rj.UrlAction("DeletePortfolio","Crypto"),{portfolioId:t},{isJson:!0}).then(function(t){pega.DisplayResultsItem(t)&&(pega.Settings.mainModalObject.hide(),n.ReloadPortfolio())}).catch(pega.OnFetchError)})},n.PTOpenAddNewCoinForm=function(n){(n==null||n==undefined)&&(n=!1);pega.LoadModal("mainModal",rj.UrlAction("AddNewCoins","Crypto"),{portfolioId:app.GetCurrentPortfolioId(),isUpdated:n},{HideFooter:!0,Title:"Add/Import Coins"})},n.PTOpenUpdateCoinForm=function(n,t){if(t=="True"){alertify.error("This coin is currently in Combined mode. Please select DisplayType: 'Seperate' to edit this coin.");return}pega.LoadModal("mainModal",rj.UrlAction("UpdateCoin","Crypto"),{coinId:n},{HideFooter:!0,Title:"Update Coins or Mask as sold"})},n.SubmitCoinMaskAsSoldForm=function(){rj.ValidateForm("coinMarkAsSoldForm")&&rj.AsyncSubmitForm("coinMarkAsSoldForm",{isJson:!0}).then(function(n){pega.DisplayResultsItem(n)&&(pega.Settings.mainModalObject.hide(),setTimeout(app.ReloadPortfolioHoldingsCoinSummary,300))}).catch(pega.OnFetchError)},n.SubmitCoinManagementForm=function(){rj.ValidateForm("coinManagementForm")&&rj.AsyncSubmitForm("coinManagementForm",{isJson:!0}).then(function(n){pega.DisplayResultsItem(n)&&(pega.Settings.mainModalObject.hide(),setTimeout(app.ReloadPortfolioHoldingsCoinSummary,300))}).catch(pega.OnFetchError)},n.SubmitImportTradeForm=function(){var i=rj.find("#import-trade-file-select"),n=i.files[0],t;if(n==null||!n.name.endsWith(".csv")&&!n.name.endsWith(".xlsx")||n.size>1e5){alertify.error("Please select a proper .csv/.xlsx file that is less than 100kb.");return}t=new FormData;t.append("file",n,n.name);t.append("exchange",rj.Id("import-exchange-csv-sl").value);t.append("portfolioId",app.GetCurrentPortfolioId());rj.ValidateForm("importTradeHistoryForm",!0)&&(pega.ButtonLoading("submitImportTradeFormBtn"),rj.AsyncPost(rj.UrlAction("PostCSVTradeHistoryFile","Crypto"),t,{isJson:!0}).then(function(n){pega.ButtonReset("submitImportTradeFormBtn");pega.DisplayResultsItem(n)&&(pega.Settings.mainModalObject.hide(),setTimeout(app.ReloadPortfolioHoldingsCoinSummary,300))}).catch(pega.OnFetchError))},n.ImportAPIActionSelectChange=function(){var n=rj.Id("importAPIexistingRB").checked;rj.Show("#useExistingImportSection",n);rj.Show("#importFromApiFormContainer",!n)},n.SubmitAddImportAPIForm=function(){rj.ValidateForm("importFromApiForm")&&(pega.ShowSiteWideOverlay(),rj.AsyncSubmitForm("importFromApiForm",{isJson:!0}).then(function(n){pega.DisplayResultsItem(n)&&(pega.Settings.mainModalObject.hide(),setTimeout(function(){app.PTOpenAddNewCoinForm(!0)},300))}).catch(pega.OnFetchError).finally(pega.HideSiteWideOverlay))},n.SubmitImportEtherAddressForm=function(){pega.ShowSiteWideOverlay();rj.Id("etherAddressFormPortfolioId").value=n.GetCurrentPortfolioId();rj.AsyncSubmitForm("importFromEtherAddressForm",{isJson:!0}).then(function(n){pega.DisplayResultsItem(n)&&(pega.Settings.mainModalObject.hide(),setTimeout(app.ReloadPortfolioHoldingsCoinSummary,300))}).catch(pega.OnFetchError).finally(pega.HideSiteWideOverlay)},n.SubmitAPIsyncRequest=function(){pega.ShowSiteWideOverlay();rj.AsyncPost(rj.UrlAction("ImportSyncAPI","Crypto"),{apiId:rj.Id("availaleExistingImportApiList").value,portfolioId:app.GetCurrentPortfolioId()},{isJson:!0}).then(function(n){pega.DisplayResultsItem(n)&&(pega.Settings.mainModalObject.hide(),setTimeout(app.ReloadPortfolioHoldingsCoinSummary,300))}).catch(pega.OnFetchError)},n.SubmitAPIDeleteRequest=function(){var n=rj.GetSelectListText("#availaleExistingImportApiList");alertify.confirm(rj.StringFormat("Are you sure that you want to delete this Import API: {0}?",n),function(){pega.ShowSiteWideOverlay();rj.AsyncPost(rj.UrlAction("DeleteImportAPI","Crypto"),{apiId:rj.GetSelectListValue("#availaleExistingImportApiList")},{isJson:!0}).then(function(n){pega.DisplayResultsItem(n)&&rj.DeleteSelctListItem("#availaleExistingImportApiList",rj.GetSelectListValue("#availaleExistingImportApiList"))}).catch(pega.OnFetchError)})},n.ViewAllThreadsInMainDashboard=function(){pega.ShowSiteWideOverlay();rj.AsyncLoad("mainDashboardAllConvTab",rj.UrlAction("GetAllConversationThreads","Community")).finally(pega.HideSiteWideOverlay)},n.OpenThreadWithComments=function(n){pega.LoadModal("mainModal",rj.UrlAction("GetThreadsWithComments","Community"),{threadId:n},{Title:"Conversations",HideFooter:!0,allowCloseOnBackground:!0})},n.SubmitCreateThreadForm=function(n){pega.ShowSiteWideOverlay();rj.AsyncSubmitForm(n,{isJson:!0}).then(function(t){if(pega.DisplayResultsItem(t)){var i=rj.Id(n),r=i.querySelector("input[name='CategoryCode']").value,u=i.querySelector("input[name='OfficialCoinId']").value,f=i.querySelector("input[name='ThreadName']").value;rj.AsyncLoad("conversationsHolder",rj.UrlAction("GetConversationThreads","Community"),{threadName:f,category:r,officialCoinId:u})}}).catch(pega.OnFetchError).finally(pega.HideSiteWideOverlay)},n.SubmitCreateCommentForm=function(n){pega.ShowSiteWideOverlay();rj.AsyncSubmitForm(n,{isJson:!0}).then(function(t){if(pega.DisplayResultsItem(t)){var i=rj.Id(n),r=i.querySelector("input[name='ThreadId']").value,u=rj.find("#mainModal .modal-body")[0];rj.AsyncLoad(u,rj.UrlAction("GetThreadsWithComments","Community"),{threadId:r})}}).catch(pega.OnFetchError).finally(pega.HideSiteWideOverlay)},n.DeleteBBThread=function(n){alertify.confirm("Are you sure that you want to delete this thread?",function(){pega.ShowSiteWideOverlay();rj.AsyncPost(rj.UrlAction("DeleteBBThread","Community"),{threadId:n},{isJson:!0}).then(pega.DisplayResultsItem).catch(pega.OnFetchError).finally(pega.HideSiteWideOverlay)})},n.DeleteBBComment=function(n){alertify.confirm("Are you sure that you want to delete this comment?",function(){pega.ShowSiteWideOverlay();rj.AsyncPost(rj.UrlAction("DeleteBBComment","Community"),{commentId:n},{isJson:!0}).then(pega.DisplayResultsItem).catch(pega.OnFetchError).finally(pega.HideSiteWideOverlay)})},n.SubmitThreadVote=function(n,t){rj.AsyncPost(rj.UrlAction("VoteBBThread","Community"),{threadId:n,isUpvote:t},{isJson:!0}).then(pega.DisplayResultsItem).catch(pega.OnFetchError).finally(pega.HideSiteWideOverlay)},n.SubmitCommentVote=function(n,t){rj.AsyncPost(rj.UrlAction("VoteBBComment","Community"),{commentId:n,isUpvote:t},{isJson:!0}).then(pega.DisplayResultsItem).catch(pega.OnFetchError).finally(pega.HideSiteWideOverlay)},n.ShowHideBBMessageTextOptions=function(n,t){var u=rj.Id(n),i,r;!t&&(i=rj.find(rj.StringFormat("#{0} textarea[data-input]",n))[0],i.value.length>0)||(r=rj.find(rj.StringFormat("#{0} div[data-options]",n))[0],rj.Show(r,t))},n.ConvOptionsClicked=function(t,i){var u;i.preventDefault();i.stopPropagation();var f=t.getAttribute("data-action"),e=t.getAttribute("data-type"),r=t.getAttribute("data-id");switch(f){case"vote":u=t.getAttribute("data-upvote");e==="comment"?n.SubmitCommentVote(r,u):n.SubmitThreadVote(r,u);break;case"open":app.OpenThreadWithComments(r)}},n.ToggleConvOption=function(n){rj.FindChildren(rj.FindParent(n,"div"),".dark-app-dropdown .dropdown-content")[0].classList.toggle("show")},n.PopulateTopBarHiddenMenu=function(){t("firstMenu","firstMenuTopHiddenUL");t("secondMenu","secondMenuTopHiddenUL");t("thirdMenu","thirdMenuTopHiddenUL");t("fourthMenu","fourthMenuTopHiddenUL")},n.SubmitContactUsForm=function(){rj.ValidateForm("ContactUsForm",!0)&&(pega.ButtonLoading("submitContactUsBtn"),rj.AsyncSubmitForm("ContactUsForm",{isJson:!0}).then(function(n){if(pega.DisplayResultsItem(n)){rj.Id("ContactUsForm").innerHTML=n.Message;rj.Id("ContactUsForm").classList.add("text-success");rj.Id("ContactUsForm").classList.add("alert-success");rj.Id("ContactUsForm").style.padding="15px";return}}).catch(function(){alertify.error("Sending has failed. Please email us manually at support@PegaTrade.com.")}).finally(function(){pega.ButtonReset("submitContactUsBtn");i()}))},n.WindowsWidthChangeEvent=function(n){var t=!n.matches;app.HandleWidthChangeSideBar(t)},n.HandleWidthChangeSideBar=function(n){rj.ForEach(["firstMenu","secondMenu","thirdMenu","fourthMenu"],function(t){var i=rj.Id(t);n?(i.classList.remove("collapse"),i.classList.remove("side-menu-ul"),i.classList.add("side-menu-ul-xs"),i.classList.add("dropdown-menu")):(i.classList.add("collapse"),i.classList.add("side-menu-ul"),i.classList.remove("side-menu-ul-xs"),i.classList.remove("dropdown-menu"))})},n.HideAdminSideBar=function(n){n?(rj.Id("adminNavStaticSideBar").classList.add("hidden"),rj.Id("page-wrapper").style.margin="0 0 120px 0",rj.Show("#topNavAdminMenuHideBar",!1),rj.Show("#topNavAdminMenuBar",!0)):(rj.Id("adminNavStaticSideBar").classList.remove("hidden"),rj.Id("page-wrapper").style.removeProperty("margin"),rj.Show("#topNavAdminMenuHideBar",!0),rj.Show("#topNavAdminMenuBar",!1))},n.PegaTradeBetaWarning=function(){alertify.alert("PegaTrade is still in early release/beta version. It may work great for one user, but another user may run into several errors when importing trades (due to so many possible scenario/ trade - pairs). While we are actively working on PegaTrade to make it as stable as possible, we encourage that you Contact us and report any errors that you may have ran into.")},n}();